function openModal(E,e,l,a=null){let t=ONE_ELEMENT("#formUser");t.style.display="flex",t.setAttribute("action",e),clearInputs(),ONE_ELEMENT("#idUser").value=a,ONE_ELEMENT("#modalActions").querySelector(".modal-body").innerHTML="",ONE_ELEMENT("#modalActions").querySelector(".modal-body").append(t),ONE_ELEMENT("#modalActions").querySelector(".modal-title").innerHTML=E,ONE_ELEMENT("#btnAddModal").style.display=!1===l?"block":"none",ONE_ELEMENT("#btnEditModal").style.display=l?"block":"none",l&&(t.style.display="none",LOADING_ELEMENT.style.display="flex",ONE_ELEMENT("#modalActions").querySelector(".modal-body").append(LOADING_ELEMENT),fillUserInfo(a,t)),ONE_ELEMENT("#btnAddModal").addEventListener("click",()=>{t.submit()}),ONE_ELEMENT("#btnEditModal").addEventListener("click",()=>{t.submit()})}async function fillUserInfo(E,e){const l=await fetch(BASE_URL+"/get_user/"+E),a=await l.json();ONE_ELEMENT("#idUser").value=a.user.id,ONE_ELEMENT("#name").value=a.user.name,ONE_ELEMENT("#email").value=a.user.email,ONE_ELEMENT("#permission").value=a.user.permission,ONE_ELEMENT("#password").value=a.user.password,e.style.display="flex",LOADING_ELEMENT.style.display="none"}function clearInputs(){ONE_ELEMENT("#idUser").value="",ONE_ELEMENT("#name").value="",ONE_ELEMENT("#email").value="",ONE_ELEMENT("#permission").value="",ONE_ELEMENT("#password").value=""}ONE_ELEMENT("#btnAddUser").addEventListener("click",E=>{openModal("Adicionar Usuário",ADD_USER_URL,!1)}),[...ALL_ELEMENTS(".btnEdit")].forEach(E=>{E.addEventListener("click",E=>{let e=E.currentTarget.getAttribute("id");openModal("Editar usuário",EDIT_USER_URL,!0,e)})});